{"remainingRequest":"/Users/jwolff/Documents/dev/learning-vue/gridsome-wordpress/yo/vue-gridsome-graphql-wordpress/node_modules/babel-loader/lib/index.js??ref--1-1!/Users/jwolff/Documents/dev/learning-vue/gridsome-wordpress/yo/vue-gridsome-graphql-wordpress/node_modules/gridsome/app/graphql/guard.js","dependencies":[{"path":"/Users/jwolff/Documents/dev/learning-vue/gridsome-wordpress/yo/vue-gridsome-graphql-wordpress/node_modules/gridsome/app/graphql/guard.js","mtime":1564078520995},{"path":"/Users/jwolff/Documents/dev/learning-vue/gridsome-wordpress/yo/vue-gridsome-graphql-wordpress/node_modules/cache-loader/dist/cjs.js","mtime":1564078521043},{"path":"/Users/jwolff/Documents/dev/learning-vue/gridsome-wordpress/yo/vue-gridsome-graphql-wordpress/node_modules/babel-loader/lib/index.js","mtime":1564078521010}],"contextDependencies":[],"result":["import fetch from \"../fetch\";\nimport { getResults, setResults, formatError } from \"./shared\";\nexport default (function (to, from, next) {\n  if (process.isServer) return next();\n\n  if (process.isProduction && global.__INITIAL_STATE__) {\n    setResults(to.path, global.__INITIAL_STATE__);\n    global.__INITIAL_STATE__ = null;\n    return next();\n  } else if (getResults(to.path)) {\n    return next();\n  }\n\n  fetch(to).then(function (res) {\n    if (res.code === 404) {\n      setResults(to.path, {\n        data: null,\n        context: {}\n      });\n      next({\n        name: '*',\n        params: {\n          0: to.path\n        }\n      });\n    } else {\n      setResults(to.path, res);\n      next();\n    }\n  }).catch(function (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      console.error(err); // eslint-disable-line\n\n      next({\n        name: '*',\n        params: {\n          0: to.path\n        }\n      });\n    } else if (err.code === 404 && to.path !== window.location.pathname) {\n      // reload page if coming from another page and data doesn't exist\n      window.location.assign(to.fullPath);\n    } else {\n      formatError(err, to);\n      next(err);\n    }\n  });\n});",null]}